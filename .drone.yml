kind: pipeline
name: default

steps:
    - name: build
      image: maven
      commands:
      - mvn mvn install -DskipTests=true -Dmaven.javadoc.skip=true -B -V
      - mvn test -B
    
    - name: docker
      image: plugins/docker
      settings:
        repo: prakharjain/springboot
        tage: latest
        username:
           from_secret: docker_username
        password:
           from_secret: docker_password